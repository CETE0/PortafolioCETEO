(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6401:(e,t,a)=>{Promise.resolve().then(a.bind(a,9319))},9319:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),i=a(2115),n=a(5565),c=a(1714),l=a(5683);let r=["/images/apropiaciondigifisica/1.JPG","/images/apropiaciondigifisica/2.JPG","/images/apropiaciondigifisica/3.JPG","/images/atencionsargento/1.jpg","/images/atencionsargento/2.jpg","/images/atencionsargento/3.jpeg","/images/Automata1/1.jpg","/images/Automata1/2.jpg","/images/Automata1/3.jpg","/images/Automata1/4.jpg"],o=e=>{let{url:t,shouldAnimate:a,isGameImage:i,isHit:l}=e;return i?(0,s.jsx)(c.P.div,{className:"absolute inset-0",initial:!!a&&{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,s.jsxs)("div",{className:"relative w-full h-full",children:[(0,s.jsx)("div",{className:"absolute inset-0 glitch-effect ".concat(l?"hit-flash":""),style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover"}}),(0,s.jsx)("div",{className:"absolute inset-0 glitch-effect-2 ".concat(l?"hit-flash":""),style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover"}}),(0,s.jsx)("div",{className:"absolute inset-0 glitch-effect-3 ".concat(l?"hit-flash":""),style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover"}})]})}):(0,s.jsx)(c.P.div,{className:"absolute inset-0",initial:!!a&&{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,s.jsx)(n.default,{src:t,alt:"Background",fill:!0,className:"object-cover",priority:!0})})};function u(){let[e,t]=(0,i.useState)(0),[a,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[p,f]=(0,i.useState)(0),[h,j]=(0,i.useState)(!1),[x,v]=(0,i.useState)(!0),[b,N]=(0,i.useState)(""),[y,S]=(0,i.useState)(!1),[k,w]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1),[I,_]=(0,i.useState)(!1),E=(0,i.useRef)(null),z=(0,i.useRef)(null),G=(0,i.useRef)(null);(0,i.useEffect)(()=>(E.current=new Audio("/sounds/background-loop.mp3"),z.current=new Audio("/sounds/kick.mp3"),G.current=new Audio("/sounds/next.mp3"),E.current&&(E.current.loop=!0,E.current.volume=.3),()=>{E.current&&E.current.pause()}),[]);let R=()=>{let e=Math.floor(Math.random()*r.length);N(r[e]),G.current&&G.current.play()},T=()=>{if(!x)return;v(!1),t(0),c(0),d(!0),g(!1),A(Math.random()>.5);let e=!1,a=setInterval(()=>{t(t=>t>=11?(clearInterval(a),d(!1),setTimeout(()=>{v(!0),h?(e&&f(e=>e+1),R()):y||(S(!0),w(!0))},400),0):(7===t&&(g(!0),_(!0),z.current&&z.current.play(),e=!0,setTimeout(()=>_(!1),200)),t+1))},200)};return(0,i.useEffect)(()=>{h&&E.current&&E.current.play()},[h]),(0,i.useEffect)(()=>{if(m){let e=setInterval(()=>{c(t=>t>=4?(clearInterval(e),t):t+1)},200);return()=>clearInterval(e)}},[m]),(0,i.useEffect)(()=>{let e=e=>{"Space"===e.code&&x&&(e.preventDefault(),k&&(j(!0),w(!1),R()),T())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x,k]),(0,s.jsx)("div",{className:"relative min-h-screen flex items-center justify-center bg-white",children:(0,s.jsxs)("div",{className:"relative w-full max-w-4xl aspect-[4/3] perspective-1000",children:[(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)(l.N,{mode:"wait",children:h&&b?(0,s.jsx)(o,{url:b,shouldAnimate:h,isGameImage:!0,isHit:I},b):(0,s.jsx)(o,{url:"/images/game/background.png",shouldAnimate:!1,isGameImage:!1},"initial-bg")})}),(0,s.jsxs)("div",{className:"absolute inset-0 z-10",children:[!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)(n.default,{src:"/images/game/plinth/".concat(m?a+1:1,".png"),alt:"Plinth",fill:!0,className:"object-contain",priority:!0})}),(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)(n.default,{src:"/images/game/object/".concat(m?a+1:1,".png"),alt:"Object",fill:!0,className:"object-contain",priority:!0})})]}),u&&(0,s.jsx)("div",{className:"absolute inset-0 ".concat(P?"scale-x-[-1]":""),children:(0,s.jsx)(n.default,{src:"/images/game/leg/".concat(e+1,".png"),alt:"Leg",fill:!0,className:"object-contain",priority:!0})})]}),(0,s.jsxs)("div",{className:"absolute inset-0 z-20",children:[k&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-6xl font-['Press_Start_2P'] text-red-600",children:"[START]"})}),(0,s.jsx)("div",{className:"absolute bottom-0 w-full",children:(0,s.jsxs)("div",{className:"flex justify-center gap-4 font-['Press_Start_2P'] text-sm",children:[!h&&(0,s.jsx)("span",{className:"text-red-600 ",children:"[press space]"}),h&&(0,s.jsxs)("span",{className:"text-red-600 ",children:["shoot em' up     [score:",p,"]"]})]})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[920,441,517,358],()=>t(6401)),_N_E=e.O()}]);